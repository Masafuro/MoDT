# MoDT DB ユニット管理ガイド

このユニットは、SQLiteを使用してシステムの各コンポーネントの状態（State）を保存・管理するためのデータベースサービスです。

## 準備事項

起動前に、このディレクトリ内に `data` フォルダを作成しておいてください。ここにデータベースファイルが保存され、コンテナを削除してもデータが維持されるようになります。

## 起動方法

ブローカーが起動していることを確認した上で、以下のコマンドを実行してください。
> docker-compose up -d

## 動作確認のポイント

正常に起動すると、ログに「Database Unit is running with SDK updates...」と表示されます。`viewer-unit` からデータの更新リクエスト（modt/state/set）を送信した際、このユニットがメッセージを拾って「Stored value for user...」とログに出力すれば、データベースへの保存が成功しています。

## 停止方法

以下のコマンドでユニットを停止します。
> docker-compose down